# 도커 파일을 어떻게 실행할지 정의하는 파일
# 모든 환경 구동 가능

version: '3.8'

services:
  app:
    # Build the image from the Dockerfile in the current directory
    build: .
    
    # Port mapping (Host:Container)
    # Map port 8501 on the host (your Mac) to 8501 in the container (where Streamlit runs)
    ports:
      - "8501:8501"
      
    # Volume mounting for live code reloading
    # This syncs your local project directory with the /app directory inside the container
    volumes:
      - .:/app
      
    # Override the default CMD to run in development mode
    # This keeps the container running
    command: streamlit run src/app.py --server.port=8501 --server.address=0.0.0.0